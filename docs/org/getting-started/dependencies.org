
* Installing dependencies

The following dependencies are only required for compiling to WASM.

- [[https://wasmer.io][wasmer]]
- [[https://releases.llvm.org/download.html][Clang / LLVM]] version 13 or later (NB: On macOS the preinstalled clang does not support the wasm
  target so use =brew install llvm= instead for example)
- [[https://github.com/WebAssembly/wasi-sdk/releases][wasi-sdk]]
- [[https://lld.llvm.org][wasm-ld]] - the LLVM linker for WASM (NB: On linux you may need to install the
  =lld= package, on macOS this is installed as part of =llvm=).

To install =wasi-sdk= you need to download a [[https://github.com/WebAssembly/wasi-sdk/releases][release archive]], untar it on your system and add its =bin= directory to your system PATH:

** Install WASI-SDK
1. Download a release of [[https://github.com/WebAssembly/wasi-sdk/releases][wasi-sdk]] for your system, choose either =wasi-sdk-16.0-linux.tar.gz= or =wasi-sdk-16.0-macos.tar.gz=.
2. Untar the release file and add the location of the embedded =wasi-sdk-16.0/bin= directory to your system =PATH=.
3. Run =which clang= and check that the result is located in the =wasi-sdk-16.0/bin= directory.

On Linux:

#+begin_src shell
cd ~
mkdir .wasi-sdk
cd .wasi-sdk
curl https://github.com/WebAssembly/wasi-sdk/releases/download/wasi-sdk-16/wasi-sdk-16.0-linux.tar.gz -OL
tar xf wasi-sdk-16.0-linux.tar.gz --strip-components=1
export PATH=$HOME/.wasi-sdk/bin:$PATH
#+end_src

On macOS:

#+begin_src shell
cd ~
mkdir .wasi-sdk
cd .wasi-sdk
curl https://github.com/WebAssembly/wasi-sdk/releases/download/wasi-sdk-16/wasi-sdk-16.0-macos.tar.gz -OL
tar xf wasi-sdk-16.0-macos.tar.gz --strip-components=1
export PATH=$HOME/.wasi-sdk/bin:$PATH
#+end_src
