-- eta-expansion
module test036;

open import Stdlib.Prelude;

expand : {A : Type} → A → Nat → A;
expand f x := f;

f : Nat → Nat;
f := suc;

g : Nat → Nat → Nat;
g z := f ∘ (flip sub z);

g' : Nat → Nat → Nat;
g' z := f ∘ (λ{x := sub x z});

h : Nat → Nat;
h := f ∘ g 3;

j : Nat → Nat → Nat;
j := g';

k : Nat → Nat → Nat → Nat;
k := expand j;

main : IO;
main := printNatLn (h 13 + j 2 3 + k 9 4 7);

end;
