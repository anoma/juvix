-- compute the Nth Fibonacci number modulo 2^28
module fibonacci;
  open import Stdlib.Prelude;
  open import Stdlib.Data.Nat.Ord;

  go : Nat → Nat → Nat → Nat;
  go zero n _ := n;
  go (suc k) n m := go k m (mod (n + m) 268435456);

  fib : Nat → Nat;
  fib n := go n 0 1;

  main : IO;
  main := printNatLn (fib 100000000);
end;
